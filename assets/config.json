{"$schema":"https://json-schema.org/draft/2020-12/schema","type":"object","properties":{"log":{"type":"object","properties":{"level":{"type":"integer","enum":[0,1,2,3,4],"x-enum-varnames":["verbose","msg","warn","error","none"],"default":0},"include_date":{"type":"boolean","default":true}},"default":{}},"http":{"type":"object","properties":{"log":{"type":"string"},"log_format":{"type":"string","default":"combined"},"rate":{"type":"object","properties":{"s2s":{"type":"object","properties":{"window":{"type":"number","default":900000},"limit":{"type":"number","default":100}},"default":{}},"auth":{"type":"object","properties":{"window":{"type":"number","default":900000},"limit":{"type":"number","default":100}},"default":{}},"nodeinfo":{"type":"object","properties":{"window":{"type":"number","default":900000},"limit":{"type":"number","default":100}},"default":{}},"wellknown":{"type":"object","properties":{"window":{"type":"number","default":900000},"limit":{"type":"number","default":100}},"default":{}},"global":{"type":"object","properties":{"window":{"type":"number","default":900000},"limit":{"type":"number","default":100}},"default":{}}},"default":{}}},"default":{}},"security":{"type":"object","properties":{"jwt_secret":{"type":"string"},"trust_proxy":{"type":"string","default":"loopback,uniquelocal"}},"required":["jwt_secret"]},"database":{"type":"object","properties":{"url":{"type":"string","format":"uri"},"log":{"type":"boolean","default":false}},"required":["url"]},"federation":{"type":"object","properties":{"enabled":{"type":"boolean","default":false},"webapp_url":{"type":"string","format":"uri"},"instance_url":{"type":"string","format":"uri"},"require_http_signatures":{"type":"boolean","default":false},"queue":{"type":"object","properties":{"use_inbound":{"type":"boolean","default":false}},"default":{}},"public_key":{"type":"string"},"private_key":{"type":"string"},"allowlist":{"type":"boolean","default":false},"instances":{"type":"object","additionalProperties":{"type":"string","enum":["allow","limit","block"],"x-enum-varnames":[null,null,null]},"default":{}}},"default":{"webapp_url":"http://localhost","instance_url":"http://localhost","public_key":"","private_key":"","enabled":false},"required":["webapp_url","instance_url","public_key","private_key"]},"webrtc":{"type":"object","properties":{"enabled":{"type":"boolean","default":false},"janus_secret":{"type":"string"},"janus_url":{"type":"string","format":"uri","default":"ws://localhost:8188"},"signal_address":{"type":"string","format":"uri"}},"default":{}},"registration":{"type":"object","properties":{"enabled":{"type":"boolean","default":false}},"default":{}},"storage":{"type":"object","properties":{"directory":{"type":"string","default":"./storage"},"max_file_size":{"type":"number","default":10485760},"s3":{"type":"object","properties":{"enabled":{"type":"boolean","default":false},"endpoint":{"type":"string"},"region":{"type":"string"},"bucket":{"type":"string"},"accessKey":{"type":"string"},"secret":{"type":"string"},"forcePathStyle":{"type":"boolean","default":false}},"default":{"region":"","bucket":"","accessKey":"","secret":""},"required":["region","bucket","accessKey","secret"]}},"default":{}},"redis":{"type":"object","properties":{"host":{"type":"string","default":"localhost"},"port":{"type":"number","default":6379}},"default":{}},"rabbitmq":{"type":"object","properties":{"enabled":{"type":"boolean","default":false},"url":{"type":"string","format":"uri"}},"default":{"url":"http://localhost"},"required":["url"]},"media_proxy":{"type":"object","properties":{"enabled":{"type":"boolean","default":false},"url":{"type":"string","format":"uri"},"secret":{"type":"string"}},"default":{"url":"http://localhost"},"required":["url"]},"notifications":{"type":"object","properties":{"enabled":{"type":"boolean","default":false},"privateKey":{"type":"string"},"publicKey":{"type":"string"}},"default":{"publicKey":"","privateKey":""},"required":["privateKey","publicKey"]}},"required":["security","database"]}